@page "{id}"
@model OCFX.Pages.Campaigns.Quests.DetailModel
@{
    ViewData["Title"] = "Detail";
}

<h1>Quest Detail</h1>
<h6>You never needed that time anyway.</h6>
<hr />

<partial name="_StatusMessage" model="Model.StatusMessage" />

<h2>@Model.Quest.QuestName</h2>
<h6>Type: @Model.Quest.QuestStyle</h6>
<p>@Model.Quest.QuestStory</p>
<p>There is no time limit</p>

@if (!Model.Completed.Contains(Model.Quest.Id))
{
    @if (Model.QuestBlocker == null)
    {

        <form method="post" class="">
            <div class="form-group">
                <p>Ready to accept this quest?</p>
                <button asp-page-handler="AcceptQuest" asp-route-id="@Model.Quest.Id" class="btn btn-primary">Accept</button>
                <button asp-page="/Dashboard/Index" class="btn btn-secondary">Decline</button>
            </div>
        </form>
    }
    else if (Model.QuestBlocker.QuestId == Model.Quest.Id)
    {
        <form method="post" class="">
            <div class="form-group">
                <p>Finished?</p>
                <button asp-page-handler="CompleteQuest" asp-route-id="@Model.Quest.Id" class="btn btn-success">Finish</button>
                <button asp-page="/Dashboard/Index" class="btn btn-secondary">Go Back</button>
            </div>
        </form>
    }
}
else if (Model.Completed.Contains(Model.Quest.Id))
{
    <h4> You have completed this quest.</h4>
}
